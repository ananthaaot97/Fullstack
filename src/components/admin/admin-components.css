/* ===== Admin Component Library — admin-components.css ===== */
/* All colors use CSS custom properties — no hardcoded values */

/* ── Activity colour tokens ── */
:root {
  --act-success-bg: #d1fae5;
  --act-success:    #065f46;
  --act-error-bg:   #fee2e2;
  --act-error:      #b91c1c;
  --act-warning-bg: #fef3c7;
  --act-warning:    #92400e;
  --act-info-bg:    #dbeafe;
  --act-info:       #1e3a8a;
}
[data-theme="dark"] {
  --act-success-bg: rgba(16,185,129,0.12);
  --act-success:    #34d399;
  --act-error-bg:   rgba(239,68,68,0.12);
  --act-error:      #f87171;
  --act-warning-bg: rgba(245,158,11,0.12);
  --act-warning:    #fcd34d;
  --act-info-bg:    rgba(59,130,246,0.12);
  --act-info:       #93c5fd;
}

/* ════════════════════════════════════════════════
   MODAL BACKDROP
════════════════════════════════════════════════ */
.adm-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  backdrop-filter: blur(4px);
  z-index: 1000;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  padding: 2rem 1rem;
  overflow-y: auto;
  animation: fadeIn 0.18s ease;
}
.adm-modal-backdrop--centered {
  align-items: center;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ════════════════════════════════════════════════
   MODAL PANEL
════════════════════════════════════════════════ */
.adm-modal {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-xl);
  width: 100%;
  max-height: calc(100vh - 4rem);
  display: flex;
  flex-direction: column;
  animation: slideUp 0.22s ease;
}
.adm-modal--preview { max-width: 680px; }
.adm-modal--edit    { max-width: 640px; }
.adm-modal--confirm { max-width: 420px; text-align: center; padding: 2.5rem 2rem; gap: 0.75rem; display: flex; flex-direction: column; align-items: center; }

@keyframes slideUp {
  from { opacity: 0; transform: translateY(16px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── Modal Header ── */
.adm-modal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
  flex-shrink: 0;
}
.adm-modal__title {
  font-size: 1.05rem;
  font-weight: 700;
  color: var(--color-text);
}
.adm-modal__close {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-surface-2);
  color: var(--color-text-muted);
  font-size: 0.8rem;
  cursor: pointer;
  transition: background var(--transition), color var(--transition);
  flex-shrink: 0;
}
.adm-modal__close:hover {
  background: var(--color-border);
  color: var(--color-text);
}
.adm-modal__close:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* ── Modal Body ── */
.adm-modal__body {
  padding: 1.5rem;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

/* ── Modal Footer ── */
.adm-modal__footer {
  display: flex;
  justify-content: flex-end;
  gap: 0.75rem;
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--color-border);
  flex-shrink: 0;
}

/* ════════════════════════════════════════════════
   RESOURCE PREVIEW MODAL
════════════════════════════════════════════════ */
.adm-preview__body {
  padding: 1.5rem;
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.adm-preview__hero {
  display: flex;
  gap: 1.25rem;
  align-items: flex-start;
}

.adm-preview__thumb {
  width: 120px;
  height: 86px;
  object-fit: cover;
  border-radius: var(--radius-lg);
  flex-shrink: 0;
  border: 1px solid var(--color-border);
}

.adm-preview__meta {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  flex: 1;
  min-width: 0;
}

.adm-preview__resource-title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-text);
  line-height: 1.3;
}

.adm-preview__author {
  font-size: 0.875rem;
  color: var(--color-text-muted);
}

.adm-preview__tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.35rem;
  margin-top: 0.25rem;
}

.adm-preview__tag {
  background: var(--color-surface-2);
  border: 1px solid var(--color-border);
  color: var(--color-text-muted);
  font-size: 0.72rem;
  font-weight: 500;
  border-radius: var(--radius-full);
  padding: 0.1rem 0.55rem;
}

.adm-preview__desc-label {
  font-size: 0.8rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-muted);
  margin-bottom: 0.5rem;
}

.adm-preview__desc p {
  font-size: 0.9rem;
  color: var(--color-text);
  line-height: 1.65;
}

.adm-preview__stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0.75rem;
}

.adm-preview__stat {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  background: var(--color-surface-2);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  padding: 0.7rem 0.85rem;
}

.adm-preview__stat-icon {
  font-size: 1.1rem;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-muted);
  width: 24px;
  height: 24px;
}
.adm-preview__stat-label { font-size: 0.7rem; color: var(--color-text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em; }
.adm-preview__stat-value { font-size: 0.9rem; font-weight: 700; color: var(--color-text); }

/* ════════════════════════════════════════════════
   EDIT RESOURCE MODAL
════════════════════════════════════════════════ */
.adm-edit__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

/* ════════════════════════════════════════════════
   CONFIRM DIALOG
════════════════════════════════════════════════ */
.adm-confirm__icon { font-size: 2.5rem; }
.adm-confirm__title {
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-text);
}
.adm-confirm__message {
  font-size: 0.9rem;
  color: var(--color-text-muted);
  line-height: 1.55;
}
.adm-confirm__actions {
  display: flex;
  gap: 0.75rem;
  justify-content: center;
  margin-top: 0.5rem;
}

/* ── Danger button ── */
.btn--danger {
  background: #ef4444;
  color: #fff;
  border: 1.5px solid #ef4444;
  border-radius: var(--radius-md);
  padding: 0.5rem 1.25rem;
  font-weight: 600;
  cursor: pointer;
  transition: background var(--transition), box-shadow var(--transition);
}
.btn--danger:hover  { background: #dc2626; }
.btn--danger:focus-visible { outline: 2px solid #ef4444; outline-offset: 2px; }

/* ════════════════════════════════════════════════
   RECENT ACTIVITY
════════════════════════════════════════════════ */
@keyframes activitySlideIn {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}

.adm-activity {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-xl);
  padding: 1.25rem 1.5rem 0.75rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 4px 14px rgba(0,0,0,0.04);
}

/* ── Header ── */
.adm-activity__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.adm-activity__title-group {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.adm-activity__title {
  font-size: 0.95rem;
  font-weight: 700;
  color: var(--color-text);
  line-height: 1.3;
}

.adm-activity__subtitle {
  font-size: 0.72rem;
  color: var(--color-text-muted);
  font-weight: 500;
  letter-spacing: 0.01em;
}

.adm-activity__count {
  font-size: 0.72rem;
  font-weight: 700;
  color: var(--color-primary);
  background: var(--color-surface-2);
  border: 1.5px solid var(--color-border);
  border-radius: var(--radius-full);
  padding: 0.1rem 0.65rem;
  min-width: 1.75rem;
  text-align: center;
}

/* ── Empty state ── */
.adm-activity__empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.35rem;
  padding: 2rem 0 1.5rem;
  text-align: center;
}

.adm-activity__empty-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: var(--color-surface-2);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-text-muted);
  margin-bottom: 0.25rem;
  flex-shrink: 0;
}

.adm-activity__empty-text {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text);
  margin: 0;
}

.adm-activity__empty-sub {
  font-size: 0.78rem;
  color: var(--color-text-muted);
  max-width: 22rem;
  margin: 0;
}

/* ── Feed list ── */
.adm-activity__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  max-height: 340px;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
}

/* ── Individual item ── */
.adm-activity__item {
  display: flex;
  gap: 0.6rem;
  padding: 0.5rem 0.4rem;
  border-radius: var(--radius-md);
  position: relative;
  transition: background 150ms ease;
}

.adm-activity__item:hover {
  background: var(--color-surface-2);
}

.adm-activity__item--new {
  animation: activitySlideIn 0.45s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@media (prefers-reduced-motion: reduce) {
  .adm-activity__item--new { animation: none; }
}

/* ── Timeline connector ── */
.adm-activity__line {
  display: flex;
  flex-direction: column;
  align-items: center;
  flex-shrink: 0;
  padding-top: 5px;
  width: 12px;
}

.adm-activity__dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
  border: 2px solid var(--color-surface);
  outline: 1px solid var(--color-border);
}

.adm-activity__item:not(:last-child) .adm-activity__line::after {
  content: '';
  flex: 1;
  width: 1px;
  background: var(--color-border);
  margin-top: 4px;
  min-height: 18px;
}

/* ── Content row ── */
.adm-activity__content {
  display: flex;
  align-items: flex-start;
  gap: 0.6rem;
  flex: 1;
  min-width: 0;
  padding-bottom: 0.4rem;
}

/* ── Icon circle ── */
.adm-activity__icon-wrap {
  width: 28px;
  height: 28px;
  border-radius: var(--radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

/* ── Text body ── */
.adm-activity__body {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  min-width: 0;
  flex: 1;
}

.adm-activity__text {
  font-size: 0.84rem;
  color: var(--color-text);
  line-height: 1.45;
  word-break: break-word;
}

.adm-activity__time {
  font-size: 0.72rem;
  color: var(--color-text-muted);
  font-variant-numeric: tabular-nums;
}

/* ── Status badges ── */
.adm-activity__badge {
  font-size: 0.66rem;
  font-weight: 700;
  border-radius: var(--radius-full);
  padding: 0.1rem 0.55rem;
  flex-shrink: 0;
  align-self: flex-start;
  margin-top: 2px;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}
.adm-activity__badge--success { background: #d1fae5; color: #065f46; }
.adm-activity__badge--error   { background: #fee2e2; color: #991b1b; }
.adm-activity__badge--warning { background: #fef3c7; color: #92400e; }

/* ════════════════════════════════════════════════
   ACTION BUTTON PHASE 4 POLISH
════════════════════════════════════════════════ */
/* 40×40 minimum hit area, tooltip, focus ring */
.admin__icon-btn {
  /* override to guarantee 40px hit area */
  min-width: 40px;
  min-height: 40px;
  position: relative;
}

/* Tooltip via data-tip attribute */
.admin__icon-btn[data-tip]::after,
.admin__action-btn[data-tip]::after {
  content: attr(data-tip);
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: #1e293b;
  color: #f8fafc;
  font-size: 0.72rem;
  font-weight: 500;
  white-space: nowrap;
  padding: 0.25rem 0.55rem;
  border-radius: var(--radius-md);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s ease;
  z-index: 50;
}
.admin__icon-btn[data-tip]::before,
.admin__action-btn[data-tip]::before {
  content: '';
  position: absolute;
  bottom: calc(100% + 1px);
  left: 50%;
  transform: translateX(-50%);
  border: 5px solid transparent;
  border-top-color: #1e293b;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s ease;
  z-index: 50;
}
.admin__icon-btn[data-tip]:hover::after,
.admin__action-btn[data-tip]:hover::after,
.admin__icon-btn[data-tip]:hover::before,
.admin__action-btn[data-tip]:hover::before {
  opacity: 1;
}

.admin__icon-btn:focus-visible,
.admin__action-btn:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* ── Responsive ── */
@media (max-width: 640px) {
  .adm-preview__hero { flex-direction: column; }
  .adm-preview__thumb { width: 100%; height: 140px; }
  .adm-preview__stats { grid-template-columns: repeat(2, 1fr); }
  .adm-edit__grid { grid-template-columns: 1fr; }
  .adm-modal { max-height: calc(100dvh - 2rem); }
  .adm-modal-backdrop { padding: 1rem 0.75rem; }
  .adm-confirm__actions { flex-direction: column-reverse; }
}
